---
// Mobile-First Benefits Bar component with Astro v5 and Tailwind v3 optimization
interface Benefit {
  icon: keyof typeof iconPaths;
  title: string;
  description: string;
  color: keyof typeof colorClasses;
}

const benefits: Benefit[] = [
  {
    icon: "shield",
    title: "Licensed & Secure",
    description: "MGA, UKGC & Curacao licensed casinos with SSL encryption",
    color: "green"
  },
  {
    icon: "clock",
    title: "Fast Payouts Verified",
    description: "0-24h withdrawals tested and verified by our experts",
    color: "blue"
  },
  {
    icon: "mobile",
    title: "Mobile Optimized",
    description: "Play anywhere with responsive design and mobile apps",
    color: "purple"
  },
  {
    icon: "star",
    title: "Expert Reviews",
    description: "Professional analysis with transparent rating methodology",
    color: "orange"
  },
  {
    icon: "support",
    title: "24/7 Support",
    description: "Live chat, email and phone support availability verified",
    color: "indigo"
  }
] as const;

const iconPaths = {
  shield: "M2.166 4.999A11.954 11.954 0 0010 1.944 11.954 11.954 0 0017.834 5c.11.65.166 1.32.166 2.001 0 5.225-3.34 9.67-8 11.317C5.34 16.67 2 12.225 2 7c0-.682.057-1.35.166-2.001zm11.541 3.708a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",
  clock: "M10 18a8 8 0 100-16 8 8 0 000 16zm1-12a1 1 0 10-2 0v4a1 1 0 00.293.707l2.828 2.829a1 1 0 101.415-1.415L11 9.586V6z",
  mobile: "M7 3a1 1 0 000 2h6a1 1 0 100-2H7zM4 7a1 1 0 011-1h10a1 1 0 011 1v11a1 1 0 01-1 1H5a1 1 0 01-1-1V7zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z",
  star: "M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z",
  support: "M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"
} as const;

const colorClasses = {
  green: "bg-green-900 sm:bg-green-800 text-green-400 hover:bg-green-700 group-hover:scale-110",
  blue: "bg-blue-900 sm:bg-blue-800 text-blue-400 hover:bg-blue-700 group-hover:scale-110", 
  purple: "bg-purple-900 sm:bg-purple-800 text-purple-400 hover:bg-purple-700 group-hover:scale-110",
  orange: "bg-orange-900 sm:bg-orange-800 text-orange-400 hover:bg-orange-700 group-hover:scale-110",
  indigo: "bg-indigo-900 sm:bg-indigo-800 text-indigo-400 hover:bg-indigo-700 group-hover:scale-110"
} as const;

// SEO and accessibility structured data
const jsonLd = {
  "@context": "https://schema.org",
  "@type": "Organization",
  "name": "Casino Compare",
  "description": "Professional casino review platform with expert analysis and verified information",
  "trustRating": {
    "@type": "Rating",
    "ratingValue": "4.9",
    "bestRating": "5.0",
    "reviewCount": "79"
  }
};
---

<section 
  id="benefits" 
  class="benefits-section"
  role="region" 
  aria-labelledby="benefits-heading"
  data-analytics="benefits-section"
>
  <!-- JSON-LD Structured Data -->
  <script type="application/ld+json" set:html={JSON.stringify(jsonLd)}></script>
  
  <div class="benefits-container">
    <!-- Mobile-First Header -->
    <header class="benefits-header">
      <h2 
        id="benefits-heading" 
        class="benefits-title"
        data-aos="fade-up"
        data-aos-duration="600"
      >
        Why Trust Our Casino Reviews?
      </h2>
      <p 
        class="benefits-description"
        data-aos="fade-up"
        data-aos-delay="200"
        data-aos-duration="600"
      >
        We provide transparent, unbiased casino reviews backed by rigorous testing and expert analysis to help you find safe, trustworthy gaming sites.
      </p>
    </header>
    
    <!-- Mobile-First Benefits Grid -->
    <div 
      class="benefits-grid"
      role="list"
      aria-label="Casino review benefits"
    >
      {benefits.map((benefit, index) => (
        <article 
          class="benefits-card group"
          role="listitem"
          data-aos="fade-up"
          data-aos-delay={100 * (index + 1)}
          data-aos-duration="600"
          data-benefit={benefit.title.toLowerCase().replace(/\s+/g, '-')}
        >
          <!-- Icon with Mobile-First Sizing -->
          <div class={`benefits-icon ${colorClasses[benefit.color]} transition-all duration-300`}>
            <svg 
              class="w-6 h-6 sm:w-8 sm:h-8 lg:w-10 lg:h-10 transition-transform duration-300"
              fill="currentColor" 
              viewBox="0 0 20 20" 
              aria-hidden="true"
              role="img"
              aria-label={`${benefit.title} icon`}
            >
              <path 
                fill-rule="evenodd" 
                d={iconPaths[benefit.icon]} 
                clip-rule="evenodd"
              />
            </svg>
          </div>
          
          <!-- Content with Improved Typography -->
          <div class="benefits-content">
            <h3 class="benefits-item-title">
              {benefit.title}
            </h3>
            <p class="benefits-item-description">
              {benefit.description}
            </p>
          </div>
        </article>
      ))}
    </div>
    
    <!-- Enhanced Trust Metrics with Mobile-First Design -->
    <aside 
      class="benefits-metrics"
      role="complementary"
      aria-labelledby="metrics-heading"
      data-aos="fade-up"
      data-aos-delay="800"
      data-aos-duration="600"
    >
      <h3 id="metrics-heading" class="sr-only">
        Trust metrics and statistics
      </h3>
      
      <div class="benefits-metric">
        <span class="benefits-metric-dot bg-green-500 shadow-green-200" aria-hidden="true"></span>
        <span class="font-medium">
          <strong class="text-green-400">79</strong> 
          <span class="text-gray-300">Casinos Reviewed</span>
        </span>
      </div>
      
      <div class="benefits-metric">
        <span class="benefits-metric-dot bg-blue-500 shadow-blue-200" aria-hidden="true"></span>
        <span class="font-medium">
          <strong class="text-blue-400">18</strong> 
          <span class="text-gray-300">License Types Verified</span>
        </span>
      </div>
      
      <div class="benefits-metric">
        <span class="benefits-metric-dot bg-purple-500 shadow-purple-200" aria-hidden="true"></span>
        <span class="font-medium">
          <strong class="text-purple-400">43</strong> 
          <span class="text-gray-300">Game Providers Tested</span>
        </span>
      </div>
      
      <div class="benefits-metric">
        <span class="benefits-metric-dot bg-orange-500 shadow-orange-200" aria-hidden="true"></span>
        <span class="font-medium">
          <span class="text-gray-300">Updated</span> 
          <strong class="text-orange-400">Daily</strong>
        </span>
      </div>
    </aside>
  </div>
</section>

<!-- Mobile-First Styles for Benefits Component -->
<style>
  /* Component-specific optimizations */
  .benefits-section {
    /* Improved mobile scroll performance */
    will-change: transform;
    /* Better font rendering on mobile */
    text-rendering: optimizeLegibility;
  }
  
  /* Hover effects only on non-touch devices */
  @media (hover: hover) and (pointer: fine) {
    .benefits-card:hover {
      transform: translateY(-4px) scale(1.02);
    }
    
    .benefits-card:hover .benefits-icon {
      transform: scale(1.1);
    }
  }
  
  /* Touch-friendly interactions */
  @media (pointer: coarse) {
    .benefits-card {
      /* Larger touch targets on mobile */
      min-height: 120px;
      /* Improved tap feedback */
      -webkit-tap-highlight-color: rgba(229, 62, 90, 0.1);
    }
  }
  
  /* Reduce motion for accessibility */
  @media (prefers-reduced-motion: reduce) {
    .benefits-card,
    .benefits-icon,
    .benefits-icon svg {
      transition: none !important;
      transform: none !important;
    }
    
    [data-aos] {
      animation: none !important;
    }
  }
  
  /* High contrast mode support */
  @media (prefers-contrast: high) {
    .benefits-card {
      border: 2px solid;
    }
    
    .benefits-metric-dot {
      border: 2px solid;
    }
  }
  
  /* Dark mode preparation */
  @media (prefers-color-scheme: dark) {
    /* Future dark mode styles can be added here */
  }
</style>